## åŸºæœ¬åˆ†æ

å‰å¤©å¤ä¹ äº† [æ•°å­¦ï¼ˆæ±‚æ ¹å…¬å¼ï¼‰](https://leetcode-cn.com/problems/arranging-coins/solution/gong-shui-san-xie-yi-ti-shuang-jie-shu-x-sv9o/)ï¼Œæ˜¨å¤©å¤ä¹ äº† [è‹±è¯­ï¼ˆæ•°å­—å•è¯ï¼‰](https://leetcode-cn.com/problems/integer-to-english-words/solution/gong-shui-san-xie-zi-fu-chuan-da-mo-ni-b-0my6/)ï¼Œä»Šå¤©è€ƒä¸€ä¸‹ã€Œè¯­æ–‡ï¼ˆé˜…è¯»ç†è§£ï¼‰ã€ğŸ¤£ ã€‚

ä¸»è¦çš„æ­§ä¹‰åœ¨äºç¬¬ä¸‰ç‚¹é™åˆ¶ã€Œå‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ *32* ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ *[âˆ’2^{31}, 2^{31} âˆ’ 1]*ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å› *2^{31} âˆ’ 1*ã€çš„ç†è§£ã€‚

è¯¥é™åˆ¶æœ‰ä¸¤ç§ç†è§£æ–¹å¼ï¼š

1. ä¸é™åˆ¶ç®—æ³•ä½¿ç”¨ `long`ï¼Œåªæ˜¯è§£é‡Šä¸ºä»€ä¹ˆåœ¨æº¢å‡ºæ—¶ï¼Œè¿”å› *2^{31} âˆ’ 1*ï¼›
2. é™åˆ¶ç®—æ³•ä½¿ç”¨ `long`ã€‚

åŸå§‹é¢˜è§£åœ¨ [è¿™é‡Œ](https://leetcode-cn.com/problems/divide-two-integers/solution/shua-chuan-lc-er-fen-bei-zeng-cheng-fa-j-m73b/) ã€‚

---

## ç†è§£ä¸€ï¼ˆä¸é™åˆ¶ `long`ï¼‰

å½“ä¸é™åˆ¶ä½¿ç”¨ `long` æ—¶ï¼ŒåŸºæœ¬æ€è·¯ä¸ºï¼š

* é¦–å…ˆï¼Œ`dividend` å’Œ `divisor` å‡æœ‰ã€Œæ­£æ•°ã€å’Œã€Œè´Ÿæ•°ã€ä¸¤ç§å¯èƒ½ï¼Œå½“ä¸”ä»…å½“å…¶ä¸­ä¸€è€…ä¸ºè´Ÿæ•°æ—¶ï¼Œç»“æœä¸ºè´Ÿï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè®°å½•æœ€ç»ˆç»“æœçš„æ­£è´Ÿå·ï¼Œç„¶åå°† `dividend` å’Œ `divisor` éƒ½å½“æˆæ­£æ•°æ¥å¤„ç†ï¼›
* ç°åœ¨ä¸¤è€…éƒ½æ»¡è¶³ *x >= 0*ï¼Œç„¶ååˆ©ç”¨ `dividend` å’Œ `divisor` å‡ä¸º `int`ï¼Œå¯ä»¥ç¡®å®šç­”æ¡ˆçš„ç»å¯¹å€¼è½åœ¨ *[0, dividend]* èŒƒå›´å†…ï¼ˆå½“ä¸”ä»…å½“ `divisor` æ˜¯èŒƒå›´åœ¨ *[0, 1]* çš„æµ®ç‚¹æ•°æ—¶ï¼Œç­”æ¡ˆä¼šå¤§äº `dividend`ï¼‰ï¼›
* å‡è®¾ç­”æ¡ˆä¸º *x*ï¼Œé‚£ä¹ˆåœ¨ä»¥ *x* ä¸ºåˆ†å‰²ç‚¹çš„æ•´æ•°æ•°è½´ä¸Šï¼Œå…·æœ‰ã€ŒäºŒæ®µæ€§ã€ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥äºŒåˆ†æ‰¾åˆ°è¯¥åˆ†å‰²ç‚¹ï¼š
    * å¤§äº *x* çš„æ•° *y* æ»¡è¶³ *y * b > a*ï¼›
    * å°äºç­‰äº *x* çš„æ•° *y* ä¸æ»¡è¶³ *y * b > a*ï¼›
* æ ¹æ®ã€ŒäºŒæ®µæ€§ã€åˆ†æï¼Œæˆ‘ä»¬å‘ç°äºŒåˆ†çš„ `check` å®ç°éœ€è¦ç”¨åˆ°ä¹˜æ³•ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªã€Œä¸ç”¨ä¹˜æ³•ç¬¦å·ã€çš„ä¹˜æ³•å®ç°ï¼ˆè¿™å¯ä»¥ä½¿ç”¨å€å¢æ€æƒ³æ¥å®ç° `mul` æ“ä½œï¼‰ã€‚

ä»£ç ï¼š
```Java []
class Solution {
    int INF = Integer.MAX_VALUE;
    public int divide(int _a, int _b) {
        long a = _a, b = _b;
        boolean flag = false;
        if ((a < 0 && b > 0) || (a > 0 && b < 0)) flag = true;
        if (a < 0) a = -a;
        if (b < 0) b = -b;
        long l = 0, r = a;
        while (l < r) {
            long mid = l + r + 1 >> 1;
            if (mul(mid, b) <= a) l = mid;
            else r = mid - 1;
        }
        r = flag ? -r : r;
        if (r > INF || r < -INF - 1) return INF;
        return (int)r;
    }
    long mul(long a, long k) {
        long ans = 0;
        while (k > 0) {
            if ((k & 1) == 1) ans += a;
            k >>= 1;
            a += a;
        }
        return ans;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼šåœ¨ *[0, a]* èŒƒå›´å†…äºŒåˆ†æ“ä½œï¼Œå¤æ‚åº¦ä¸º![O(\log{a}) ](./p__O_log{a}__.png) ï¼›å€å¢ä¹˜æ³•çš„ä¸æ“ä½œæ•°çš„äºŒè¿›åˆ¶é•¿åº¦ç›¸å…³ï¼Œå¤æ‚åº¦ä¸º ![O(\log{b}) ](./p__O_log{b}__.png) ã€‚æ•´ä½“å¤æ‚åº¦ä¸º ![O(\log{a}*\log{b}) ](./p__O_log{a}_*_log{b}__.png) 
* ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*

---

## ç†è§£äºŒï¼ˆé™åˆ¶ `long`ï¼‰

å¯¹äºå…¨ç¨‹ä¸ä½¿ç”¨ `long` çš„åšæ³•ï¼Œæˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰æ•°æ˜ å°„åˆ°è´Ÿæ•°è¿›è¡Œå¤„ç†ï¼ˆä»¥ *0* ä¸ºåˆ†å‰²ç‚¹ï¼Œè´Ÿæ•°æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´æ›´å¤§ï¼‰ã€‚

åŸºæœ¬æ€è·¯ä¸ºï¼š

* èµ·å§‹å…ˆå¯¹è¾¹ç•Œæƒ…å†µè¿›è¡Œç‰¹åˆ¤ï¼›
* è®°å½•æœ€ç»ˆç»“æœçš„ç¬¦å·ï¼Œå¹¶å°†ä¸¤æ•°éƒ½æ˜ å°„ä¸ºè´Ÿæ•°ï¼›
* å¯ä»¥é¢„å¤„ç†å‡ºå€å¢æ•°ç»„ï¼Œæˆ–é‡‡å–é€æ­¥å¢å¤§ `dividend` æ¥é€¼è¿‘ `divisor` çš„æ–¹å¼ã€‚

> ç”±äºæ“ä½œæ•°éƒ½æ˜¯è´Ÿæ•°ï¼Œå› æ­¤è‡ªå€å¢è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ“ä½œæ•°å°äº `INT_MIN` çš„ä¸€åŠï¼ˆ`-1073741824`ï¼‰ï¼Œåˆ™ä»£è¡¨å‘ç”Ÿæº¢å‡ºã€‚

ä»£ç ï¼š
```Java []
class Solution {
    int MIN = Integer.MIN_VALUE, MAX = Integer.MAX_VALUE;
    int LIMIT = -1073741824; // MIN çš„ä¸€åŠ
    public int divide(int a, int b) {
        if (a == MIN && b == -1) return MAX;
        boolean flag = false;
        if ((a > 0 && b < 0) || (a < 0 && b > 0)) flag = true;
        if (a > 0) a = -a;
        if (b > 0) b = -b;
        int ans = 0;
        while (a <= b){
            int c = b, d = -1;
            while (c >= LIMIT && d >= LIMIT && c >= a - c){
                c += c; d += d;
            }
            a -= c;
            ans += d;
        }
        return flag ? ans : -ans;
    }
}
```
* æ—¶é—´å¤æ‚åº¦ï¼š![O(\log{a}*\log{b}) ](./p__O_log{a}_*_log{b}__.png) 
* ç©ºé—´å¤æ‚åº¦ï¼š*O(1)*

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

ä¹Ÿæ¬¢è¿ä½  [å…³æ³¨æˆ‘](https://oscimg.oschina.net/oscnet/up-19688dc1af05cf8bdea43b2a863038ab9e5.png)ï¼ˆå…¬ä¸»å·åå°å›å¤ã€Œé€ä¹¦ã€å³å¯å‚ä¸é•¿æœŸçœ‹é¢˜è§£å­¦ç®—æ³•é€å®ä½“ä¹¦æ´»åŠ¨ï¼‰æˆ– åŠ å…¥[ã€Œç»„é˜Ÿæ‰“å¡ã€](https://leetcode-cn.com/u/ac_oier/)å°ç¾¤ ï¼Œæä¾›å†™ã€Œè¯æ˜ã€&ã€Œæ€è·¯ã€çš„é«˜è´¨é‡é¢˜è§£ã€‚

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~ 